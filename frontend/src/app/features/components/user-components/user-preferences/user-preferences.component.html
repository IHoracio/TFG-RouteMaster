<div class="user-preferences">
  <h2>{{ translation.translate('preferences.title') }}</h2>

  <div class="collapsible">
    <h3 (click)="toggleGeneric()">
      <svg width="24" height="24" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" style="display: inline; margin-right: 8px; vertical-align: middle;">
        <path d="M23.265,24.381l.9-.894c4.164.136,4.228-.01,4.411-.438l1.144-2.785L29.805,20l-.093-.231c-.049-.122-.2-.486-2.8-2.965V15.5c3-2.89,2.936-3.038,2.765-3.461L28.538,9.225c-.171-.422-.236-.587-4.37-.474l-.9-.93a20.166,20.166,0,0,0-.141-4.106l-.116-.263-2.974-1.3c-.438-.2-.592-.272-3.4,2.786l-1.262-.019c-2.891-3.086-3.028-3.03-3.461-2.855L9.149,3.182c-.433.175-.586.237-.418,4.437l-.893.89c-4.162-.136-4.226.012-4.407.438L2.285,11.733,2.195,12l.094.232c.049.12.194.48,2.8,2.962l0,1.3c-3,2.89-2.935,3.038-2.763,3.462l1.138,2.817c.174.431.236.584,4.369.476l.9.935a20.243,20.243,0,0,0,.137,4.1l.116.265,2.993,1.308c.435.182.586.247,3.386-2.8l1.262.016c2.895,3.09,3.043,3.03,3.466,2.859l2.759-1.115C23.288,28.644,23.44,28.583,23.265,24.381ZM11.407,17.857a4.957,4.957,0,1,1,6.488,2.824A5.014,5.014,0,0,1,11.407,17.857Z" style="fill:currentColor;"/>
      </svg>
      {{ translation.translate('preferences.generic') }}
    </h3>
    @if (showGeneric()) {
      <app-generic-preferences></app-generic-preferences>
    }
  </div>

  <div class="collapsible">
    <h3 (click)="toggleVehicle()">
      <svg width="24" height="24" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" style="display: inline; margin-right: 8px; vertical-align: middle;">
        <defs>
          <style>
            .cls-1 { fill: none; }
          </style>
        </defs>
        <path d="M29.3379,17.9336l-7.7324-2.7783L18.374,11.0967A2.99,2.99,0,0,0,16.0537,10H8.0576a2.9982,2.9982,0,0,0-2.48,1.3115L2.8662,15.2949A4.9884,4.9884,0,0,0,2,18.1074V26a1,1,0,0,0,1,1H5.1421a3.9806,3.9806,0,0,0,7.7158,0h6.2842a3.9806,3.9806,0,0,0,7.7158,0H29a1,1,0,0,0,1-1V18.875A1,1,0,0,0,29.3379,17.9336ZM9,28a2,2,0,1,1,2-2A2.0027,2.0027,0,0,1,9,28Zm14,0a2,2,0,1,1,2-2A2.0025,2.0025,0,0,1,23,28Zm5-3H26.8579a3.9806,3.9806,0,0,0-7.7158,0H12.8579a3.9806,3.9806,0,0,0-7.7158,0H4V18.1074A2.9977,2.9977,0,0,1,4.52,16.4189l2.711-3.9814A.9992.9992,0,0,1,8.0576,12h7.9961a.9928.9928,0,0,1,.7647.3545l3.3994,4.2685a1.0007,1.0007,0,0,0,.4443.3184L28,19.5781Z" style="fill:currentColor;"/>
        <path d="M24.5547,6a2,2,0,0,1,2-2H30a3.9756,3.9756,0,0,0-7.304,1H16V7h6.696A3.9756,3.9756,0,0,0,30,8H26.5547A2,2,0,0,1,24.5547,6Z" style="fill:currentColor;"/>
      </svg>
      {{ translation.translate('preferences.vehicle') }}
    </h3>
    @if (showVehicle()) {
      <app-vehicle-preferences></app-vehicle-preferences>
    }
  </div>

  <div class="collapsible">
    <h3 (click)="toggleGasStations()">
      <svg width="24" height="24" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg" style="display: inline; margin-right: 8px; vertical-align: middle;">
        <path d="M45.102 10.08c.549-.549 1.322-1.146 2.111-1.866l.729-.611-1.987-2.23-.649.607c-2.746 2.495-4.398 4.003-5.205 7.094-.801 3.073-.833 6.184-.749 9.092.088 2.998.201 4.976 1.039 7.182l.316.813c.804 2.023 2.021 5.079 2.021 9.01 0 4.749-1.924 7.158-5.718 7.158-3.452 0-5.314-2.304-5.532-6.856-.099-2.017.467-4.507 1.062-7.138.503-2.221 1.021-4.519 1.276-6.958.282-2.689-.071-4.611-1.104-5.765-1.326-1.481-3.367-1.612-5.165-1.612h-.547v-13.861c0-1.2-.871-2.139-2.064-2.139h-20.641c-1.191 0-2.295.939-2.295 2.139v43.861h25v-27h.548c1.23 0 2.504.138 2.937.621.232.26.588 1.102.353 3.373-.237 2.264-.739 4.503-1.223 6.636-.641 2.839-1.249 5.539-1.129 7.973.295 6.179 3.404 9.73 8.524 9.73 5.457 0 8.715-3.798 8.715-10.168 0-4.509-1.395-8.022-2.232-10.127l-.302-.767c-.602-1.589-.737-3.062-.82-5.632.963-.022 2.129-.045 2.653-.045 1.199 0 1.802-.703 2.059-1.921.15-.71-.082-1.641-.082-3.331v-.448c-.001-4.467-.684-5.743-1.899-6.814zm-21.102 8.92h-19v-13h19v13zm20-1.654c0 .873.23 1.708.201 2.239-.598.009-1.286.025-1.986.041.026-1.929.24-3.893.733-5.784.134-.504.094-.948.296-1.362.533.513.756 1.282.756 4.416v.45z" style="fill:currentColor;"/>
      </svg>
      {{ translation.translate('preferences.gasStations') }}
    </h3>
    @if (showGasStations()) {
      <app-gas-stations-preferences></app-gas-stations-preferences>
    }
  </div>

  <div class="buttons">
    <button type="button" (click)="savePreferences()">{{ translation.translate('preferences.save') }}</button>
    <button type="button" (click)="resetPreferences()">{{ translation.translate('preferences.reset') }}</button>
  </div>
</div>