<div class="user-info">
  <h2>Información del Usuario</h2>
  
  @if (loadingUser()) {
    <p>Cargando información del usuario...</p>
  } @else {
    <div class="user-details">
      <p><strong>Email:</strong> {{ user().email }}</p>
      <p><strong>Nombre:</strong> {{ user().name }}</p>
      <p><strong>Apellido:</strong> {{ user().surname }}</p>
    </div>
  }
  
  <div class="favorites-section">
    <h3>Rutas Favoritas</h3>
    @if (favoriteRoutes().length > 0) {
      <ul>
        @for (route of favoriteRoutes(); track route.routeId) {
          <li (click)="selectRoute(route)" class="clickable">
            {{ route.name }} - Origen: {{ route.points[0]?.address || 'N/A' }}, Destino: {{ route.points[1]?.address || 'N/A' }} - Distancia: {{ route.distanceKm }} km, Duración: {{ route.durationFormatted }}
            @if (route.canShare) {
              <button (click)="shareRoute(route)">Compartir</button>
            }
            <button (click)="deleteRoute(route)">Eliminar</button>
          </li>
        }
      </ul>
    } @else {
      <p>No hay rutas favoritas.</p>
    }
    <button (click)="goToLanding()">Crear</button>
  </div>
  
  <div class="favorites-section">
    <h3>Gasolineras Favoritas</h3>
    @if (favoriteGasStations().length > 0) {
      <ul>
        @for (station of favoriteGasStations(); track station.idEstacion) {
          <li (click)="selectStation(station)" class="clickable">
            {{ station.alias || 'Sin alias' }} - {{ station.nombreEstacion }} - {{ station.direccion }}
          </li>
        }
      </ul>
    } @else {
      <p>No hay gasolineras favoritas.</p>
    }
    <button (click)="goToPreferences()">Crear / Modificar</button>
  </div>
</div>